{% extends "VentesBundle::layout_ventes.html.twig" %}

{% block container_ventes %}
    <h3>Apporteur</h3>
    <div class="row">
        <div class="col-md-5">
            <table class="table table-striped table-bordered">
                <tbody>
                    <tr>
                        <th>Nomapporteur</th>
                        <td>{{ entity.nomapporteur }}</td>
                    </tr>
                    <tr>
                        <th>Prenomapporteur</th>
                        <td>{{ entity.prenomapporteur }}</td>
                    </tr>
                    <tr>
                        <th>Telephone</th>
                        <td>{{ entity.telephone }}</td>
                    </tr>
                    <tr>
                        <th>Email</th>
                        <td>{{ entity.email }}</td>
                    </tr>
                    <tr>
                        <th>Fonction</th>
                        <td>{{ entity.fonction }}</td>
                    </tr>
                </tbody>
            </table>

            <div class="col-md-12">
                <form method="post" action="{{path('apporteur_etat', {idap: entity.id} )}}">
                    <table class="table table-striped table-hover">
                        <tbody>
                            <tr>
                                <th> 
                                    <label class="control-label required" for="datedebut">Date Début</label>
                                </th>
                                <td> 
                                    <input type="text" id="datedebut" name="datedebut" required="required"
                                           class="form-control datetimepicker" />
                                </td>
                            </tr>

                            <tr>
                                <th>  
                                    <label class="control-label required" for="datefin">Date Fin</label>
                                </th>
                                <td>
                                    <input type="text" id="datefin" name="datefin" required="required"
                                           class="form-control datetimepicker" />
                                </td>
                            </tr>
                            <tr>
                                <th> 
                                </th>
                                <td>
                                    <input type="submit" value="Générer" class="btn btn-primary form-control" />
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </div>

        </div>
        {% if clients|length > 0 %}
            <div class="col-md-7">
                <h4> Les clients liés: </h4>
                <table class="table table-hover table-striped">
                    <thead>
                        <tr>
                            <th> 
                                Catégorie
                            </th>
                            <th> 
                                Client
                            </th>

                            <th> 
                                Adresse
                            </th>

                            <th> 
                                Téléphone
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for client in clients %}
                            <tr>
                                <td>{{ client.categorie.libelle }}</td>
                                <td>{{ client.nom }}</td>
                                <td>{{ client.adresse }}</td>
                                <td>{{ client.telephone }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
                <a class="btn btn-primary" href="{{ path('apporteur') }}">
                    Liste apporteurs
                </a>
                <a class="btn btn-success" href="{{ path('apporteur_edit', { 'id': entity.id }) }}">
                    Modifier
                </a>

            </div>
        {% endif %}
    </div>

{% endblock %}
